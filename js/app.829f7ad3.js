(function(t){function e(e){for(var c,o,u=e[0],i=e[1],d=e[2],s=0,h=[];s<u.length;s++)o=u[s],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&h.push(a[o][0]),a[o]=0;for(c in i)Object.prototype.hasOwnProperty.call(i,c)&&(t[c]=i[c]);f&&f(e);while(h.length)h.shift()();return r.push.apply(r,d||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],c=!0,o=1;o<n.length;o++){var u=n[o];0!==a[u]&&(c=!1)}c&&(r.splice(e--,1),t=i(i.s=n[0]))}return t}var c={},o={app:0},a={app:0},r=[];function u(t){return i.p+"js/"+({}[t]||t)+"."+{"chunk-081ba643":"fe99a593","chunk-1804d700":"8ad4c8bb","chunk-1816f7d2":"07b922c8","chunk-1c53007e":"56b62b5e","chunk-266e864c":"afa68c47","chunk-28faaa86":"47d657bd","chunk-321297c8":"96cc173d","chunk-4d673e26":"5407a4da","chunk-62d30a26":"4088462c","chunk-a21463d8":"5c943940","chunk-a5b23e24":"f07c88b0","chunk-2d0a4228":"8655d238","chunk-2d210800":"5b80ee99","chunk-adbc3f72":"414cb477","chunk-b4d1c9e6":"8feec7d6","chunk-b5500c24":"2202b505","chunk-c04f26f4":"9d65cf78","chunk-c90d237e":"ce0af728","chunk-d5a38a3c":"149b5f94"}[t]+".js"}function i(e){if(c[e])return c[e].exports;var n=c[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(t){var e=[],n={"chunk-1c53007e":1,"chunk-4d673e26":1};o[t]?e.push(o[t]):0!==o[t]&&n[t]&&e.push(o[t]=new Promise((function(e,n){for(var c="css/"+({}[t]||t)+"."+{"chunk-081ba643":"31d6cfe0","chunk-1804d700":"31d6cfe0","chunk-1816f7d2":"31d6cfe0","chunk-1c53007e":"9974a60b","chunk-266e864c":"31d6cfe0","chunk-28faaa86":"31d6cfe0","chunk-321297c8":"31d6cfe0","chunk-4d673e26":"a7ad054e","chunk-62d30a26":"31d6cfe0","chunk-a21463d8":"31d6cfe0","chunk-a5b23e24":"31d6cfe0","chunk-2d0a4228":"31d6cfe0","chunk-2d210800":"31d6cfe0","chunk-adbc3f72":"31d6cfe0","chunk-b4d1c9e6":"31d6cfe0","chunk-b5500c24":"31d6cfe0","chunk-c04f26f4":"31d6cfe0","chunk-c90d237e":"31d6cfe0","chunk-d5a38a3c":"31d6cfe0"}[t]+".css",a=i.p+c,r=document.getElementsByTagName("link"),u=0;u<r.length;u++){var d=r[u],s=d.getAttribute("data-href")||d.getAttribute("href");if("stylesheet"===d.rel&&(s===c||s===a))return e()}var h=document.getElementsByTagName("style");for(u=0;u<h.length;u++){d=h[u],s=d.getAttribute("data-href");if(s===c||s===a)return e()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=e,f.onerror=function(e){var c=e&&e.target&&e.target.src||a,r=new Error("Loading CSS chunk "+t+" failed.\n("+c+")");r.code="CSS_CHUNK_LOAD_FAILED",r.request=c,delete o[t],f.parentNode.removeChild(f),n(r)},f.href=a;var l=document.getElementsByTagName("head")[0];l.appendChild(f)})).then((function(){o[t]=0})));var c=a[t];if(0!==c)if(c)e.push(c[2]);else{var r=new Promise((function(e,n){c=a[t]=[e,n]}));e.push(c[2]=r);var d,s=document.createElement("script");s.charset="utf-8",s.timeout=120,i.nc&&s.setAttribute("nonce",i.nc),s.src=u(t);var h=new Error;d=function(e){s.onerror=s.onload=null,clearTimeout(f);var n=a[t];if(0!==n){if(n){var c=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src;h.message="Loading chunk "+t+" failed.\n("+c+": "+o+")",h.name="ChunkLoadError",h.type=c,h.request=o,n[1](h)}a[t]=void 0}};var f=setTimeout((function(){d({type:"timeout",target:s})}),12e4);s.onerror=s.onload=d,document.head.appendChild(s)}return Promise.all(e)},i.m=t,i.c=c,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var c in t)i.d(n,c,function(e){return t[e]}.bind(null,c));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/ec_secret/",i.oe=function(t){throw console.error(t),t};var d=window["webpackJsonp"]=window["webpackJsonp"]||[],s=d.push.bind(d);d.push=e,d=d.slice();for(var h=0;h<d.length;h++)e(d[h]);var f=s;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"56d7":function(t,e,n){"use strict";n.r(e);n("4de4"),n("e260"),n("e6cf"),n("cca6"),n("a79d");var c=n("2b0e"),o=n("bc3a"),a=n.n(o),r=n("a7fe"),u=n.n(r),i=n("9062"),d=n.n(i),s=(n("e40d"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[t.isRouterAlive?n("router-view"):t._e()],1)}),h=[],f={name:"App",provide:function(){return{reload:this.reload}},data:function(){return{isRouterAlive:!0}},methods:{reload:function(){var t=this;this.isRouterAlive=!1,this.$nextTick((function(){t.isRouterAlive=!0}))}}},l=f,p=(n("5c0b"),n("2877")),m=Object(p["a"])(l,s,h,!1,null,null,null),b=m.exports,k=(n("d3b7"),n("8c4f"));c["a"].use(k["a"]),c["a"].use(d.a);var v=[{path:"*",redirect:"/"},{path:"/",name:"Home",component:function(){return n.e("chunk-a21463d8").then(n.bind(null,"eae1"))},children:[{path:"goods",name:"Goods",component:function(){return n.e("chunk-62d30a26").then(n.bind(null,"00ea"))}},{path:"detail/:productId",name:"Detail",component:function(){return n.e("chunk-266e864c").then(n.bind(null,"fa92"))}},{path:"carts",name:"Carts",component:function(){return n.e("chunk-321297c8").then(n.bind(null,"009a"))}},{path:"checkout",name:"Checkout",component:function(){return Promise.all([n.e("chunk-a5b23e24"),n.e("chunk-2d210800")]).then(n.bind(null,"b7c8"))}},{path:"payment/:orderId",name:"Payment",component:function(){return n.e("chunk-d5a38a3c").then(n.bind(null,"b275"))}},{path:"about",name:"About",component:function(){return n.e("chunk-081ba643").then(n.bind(null,"2f7f"))}},{path:"celebrities",name:"Celebrities",component:function(){return n.e("chunk-1816f7d2").then(n.bind(null,"48b8"))}},{path:"muggles",name:"Muggles",component:function(){return n.e("chunk-1804d700").then(n.bind(null,"0822"))}},{path:"alien",name:"Alien",component:function(){return n.e("chunk-c90d237e").then(n.bind(null,"0922"))}},{path:"",name:"HomeContent",component:function(){return n.e("chunk-c04f26f4").then(n.bind(null,"e996"))}}]},{path:"/login",name:"Login",component:function(){return n.e("chunk-1c53007e").then(n.bind(null,"294f"))}},{path:"/admin",name:"Dashboard",component:function(){return n.e("chunk-4d673e26").then(n.bind(null,"e313"))},children:[{path:"products",name:"Products",component:function(){return n.e("chunk-adbc3f72").then(n.bind(null,"61bc"))},meta:{requiresAuth:!0}},{path:"orders",name:"Orders",component:function(){return n.e("chunk-b4d1c9e6").then(n.bind(null,"efd9"))},meta:{requiresAuth:!0}},{path:"coupons",name:"Coupons",component:function(){return n.e("chunk-b5500c24").then(n.bind(null,"8c58"))},meta:{requiresAuth:!0}}]},{path:"/",name:"Dashboard",component:function(){return n.e("chunk-4d673e26").then(n.bind(null,"e313"))},children:[{path:"customer_order",name:"CustomerOrder",component:function(){return Promise.all([n.e("chunk-a5b23e24"),n.e("chunk-2d0a4228")]).then(n.bind(null,"04c1"))}},{path:"customer_checkout/:orderId",name:"CustomerCheckout",component:function(){return n.e("chunk-28faaa86").then(n.bind(null,"056d"))}}]}],g=new k["a"]({routes:v,linkActiveClass:"active"}),D=g,I=(n("99af"),n("2f62")),A=n("1157"),y=n.n(A);c["a"].use(I["a"]);var O=new I["a"].Store({strict:!0,state:{cartOrder:[],isLoading:!1,isDisabled:!1,carts:{carts:[]},products:[],product:{},status:{loadingId:"",runGif:""}},actions:{updateLoading:function(t,e){t.commit("LOADING",e)},getProducts:function(t){t.commit("LOADING",!0);var e="".concat("https://vue-course-api.hexschool.io/","api/").concat("kotard","/products/all");a.a.get(e).then((function(e){e.data.success&&(t.commit("LOADING",!1),t.commit("PRODUCTS",e.data.products))}))},getProduct:function(t,e){t.commit("LOADINGID",e.id);var n="".concat("https://vue-course-api.hexschool.io/","api/").concat("kotard","/product/").concat(e.id);a.a.get(n).then((function(e){e.data.success&&(t.commit("PRODUCT",e.data.product),y()("#productModal").modal("show"),t.commit("LOADINGID",""))}))},getProductToPage:function(t,e){t.commit("LOADING",!0);var n="".concat("https://vue-course-api.hexschool.io/","api/").concat("kotard","/product/").concat(e);a.a.get(n).then((function(e){e.data.success&&(t.commit("PRODUCT",e.data.product),t.commit("LOADING",!1))}))},addToCart:function(t,e){var n=this,c=e.id,o=e.qty,r=void 0===o?1:o;t.commit("LOADINGID",c);var u={product_id:c,qty:r},i="".concat("https://vue-course-api.hexschool.io/","api/").concat("kotard","/cart");this.state.isDisabled||(t.commit("ISDISABLED",!0),a.a.post(i,{data:u}).then((function(e){e.data.success&&(t.commit("LOADINGID",""),t.commit("RUNGIF",c),setTimeout((function(){t.commit("RUNGIF","")}),1500),setTimeout((function(){t.commit("ISDISABLED",!1)}),2e3),y()("#productModal").modal("hide"),n.dispatch("getCarts"))})))},getCarts:function(t){var e="".concat("https://vue-course-api.hexschool.io/","api/").concat("kotard","/cart");a.a.get(e).then((function(e){e.data.success&&(t.commit("CARTS",e.data.data),t.commit("CARTORDER",e.data.data.carts))}))},removeCart:function(t,e){var n=this,c="".concat("https://vue-course-api.hexschool.io/","api/").concat("kotard","/cart/").concat(e);t.commit("LOADING",!0),a.a.delete(c).then((function(e){e.data.success&&(t.commit("LOADING",!1),n.dispatch("getCarts"))}))},cartChangeQty:function(t,e){var n=this,c=e.id,o=e.productId,r=e.num,u="".concat("https://vue-course-api.hexschool.io/","api/").concat("kotard","/cart/").concat(c),i="".concat("https://vue-course-api.hexschool.io/","api/").concat("kotard","/cart"),d={product_id:o,qty:r};a.a.all([a.a.delete(u),a.a.post(i,{data:d})]).then(a.a.spread((function(){t.commit("LOADING",!1),n.dispatch("getCarts")})))},updateProductQty:function(t,e){var n=this,c=e.originCartId,o=e.originProductId,r=e.newQty;t.commit("LOADINGID",o);var u="".concat("https://vue-course-api.hexschool.io/","api/").concat("kotard","/cart/").concat(c),i="".concat("https://vue-course-api.hexschool.io/","api/").concat("kotard","/cart"),d={product_id:o,qty:r};this.state.isDisabled||(t.commit("ISDISABLED",!0),a.a.all([a.a.delete(u),a.a.post(i,{data:d})]).then(a.a.spread((function(){t.commit("LOADINGID",""),t.commit("RUNGIF",o),setTimeout((function(){t.commit("RUNGIF","")}),1500),setTimeout((function(){t.commit("ISDISABLED",!1)}),2e3),n.dispatch("getCarts")}))))}},mutations:{LOADING:function(t,e){t.isLoading=e},ISDISABLED:function(t,e){t.isDisabled=e},PRODUCTS:function(t,e){t.products=e},PRODUCT:function(t,e){t.product=e},LOADINGID:function(t,e){t.status.loadingId=e},RUNGIF:function(t,e){t.status.runGif=e},CARTS:function(t,e){t.carts=e},CARTORDER:function(t,e){t.cartOrder=e.sort((function(t,e){return e.qty-t.qty}))}},getters:{isLoading:function(t){return t.isLoading},isDisabled:function(t){return t.isDisabled},runGif:function(t){return t.status.runGif},products:function(t){return t.products},product:function(t){return t.product},loadingId:function(t){return t.status.loadingId},carts:function(t){return t.carts}},modules:{}}),C=(n("4989"),n("a9e3"),n("b680"),n("ac1f"),n("5319"),function(t){var e=Number(t);return"＄".concat(e.toFixed(0).replace(/./g,(function(t,e,n){var c=e&&"."!==t&&(n.length-e)%3===0?", ".concat(t).replace(/\s/g,""):t;return c})))}),L=function(t){var e=new Date(1e3*t);return e.toLocaleDateString()};c["a"].prototype.$bus=new c["a"];var N=void 0;c["a"].config.productionTip=!1,c["a"].use(u.a,a.a),c["a"].component("Loading",d.a),c["a"].filter("currency",C),c["a"].filter("date",L),a.a.defaults.withCredentials=!0,new c["a"]({router:D,store:O,render:function(t){return t(b)}}).$mount("#app"),D.beforeEach((function(t,e,n){if(t.meta.requireAuth){var c=N,o="".concat("https://vue-course-api.hexschool.io/","api/user/check");a.a.$http.post(o,c.user).then((function(t){t.data.success?n():n({path:"/login"})}))}else n()}))},"5c0b":function(t,e,n){"use strict";var c=n("9c0c"),o=n.n(c);o.a},"9c0c":function(t,e,n){}});
//# sourceMappingURL=app.829f7ad3.js.map